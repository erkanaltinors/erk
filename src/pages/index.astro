---
import Layout from "@/layouts/Layout.astro";
import { Icon } from "astro-icon/components";
import { getCollection } from "astro:content";
const blogPosts = await getCollection("blog");
---

<script
 src="https://unpkg.com/htmx.org@1.9.10"
 integrity="sha384-D1Kt99CQMDuVetoL1lrYwg5t+9QdHe7NLX/SoJYkXDFfX37iInKRy5xLSi8nO7UC"
 crossorigin="anonymous"
>
</script>
<Layout lang="tr" title="Erkan Altınörs">
 <section class="pt-2">
  <div class="container max-w-[600px]">
   <div class="flex justify-center">
    <div class="rounded-sm bg-slate-950 px-4 py-4 text-center text-white md:w-full">
     <h1>Erkan Altınörs</h1>
     <h2 class="m-0 text-lg font-normal">Frontend Developer</h2>
    </div>
   </div>
  </div>
 </section>
 <section class="py-10">
  <div class="container max-w-[600px]">
   <h2 class="blue-pill-border relative z-10 mb-5 mt-0 inline-block text-3xl md:text-4xl">Blog Yazıları</h2>
   <ul class="grid gap-2" role="list">
    {
     blogPosts.map((post) => (
      <li role="listitem" class="relative border-b border-gray-300 last:border-0 hover:border-transparent">
       <a
        href={`blog/${post.slug}`}
        class="group box-border block h-full w-full rounded-sm p-2 transition  hover:bg-slate-950 hover:text-white focus:outline-none"
       >
        <p class="m-0 pr-6 font-semibold">{post.data.title}</p>
        <Icon name="ph:arrow-up-right" class="absolute right-2 top-2" />
        <div>
         <p class="m-0 text-base">{post.data.description}</p>
        </div>
       </a>
      </li>
     ))
    }
   </ul>
  </div>
 </section>
 <div class="container">
  <button class="h-10 bg-blue-500 px-3 text-white" hx-get="/partials/test" hx-target="#test" hx-swap="innerHTML">GET HTML BLOCK</button>
  <div id="test"></div>
 </div>
</Layout>
